{"remainingRequest":"/Users/rfarrer/repos/collapse/node_modules/docz-core/node_modules/babel-loader/lib/index.js?{\"presets\":[\"@babel/preset-flow\",\"@babel/preset-react\",[\"/Users/rfarrer/repos/collapse/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-proposal-class-properties\",\"react-flow-props-to-prop-types\",[\"/Users/rfarrer/repos/collapse/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/rfarrer/repos/collapse/node_modules/react-hot-loader/babel.js\"],\"cacheDirectory\":true,\"babelrc\":false}!/Users/rfarrer/repos/collapse/AnimateHeight.js","dependencies":[{"path":"/Users/rfarrer/repos/collapse/AnimateHeight.js","mtime":1540699227653},{"path":"/Users/rfarrer/repos/collapse/node_modules/cache-loader/dist/cjs.js","mtime":1540683830849},{"path":"/Users/rfarrer/repos/collapse/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1539563296618}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nvar PROPS_TO_OMIT = ['animateOpacity', 'animationStateClasses', 'applyInlineTransitions', 'children', 'contentClassName', 'delay', 'duration', 'easing', 'height', 'onAnimationEnd', 'onAnimationStart']; // Start animation helper using nested requestAnimationFrames\n\nfunction startAnimationHelper(callback) {\n  requestAnimationFrame(function () {\n    requestAnimationFrame(function () {\n      callback();\n    });\n  });\n}\n\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\nfunction isPercentage(height) {\n  // Percentage height\n  return typeof height === 'string' && height.search('%') === height.length - 1 && isNumber(height.substr(0, height.length - 1));\n}\n\nfunction runCallback(callback) {\n  if (callback && typeof callback === 'function') {\n    callback();\n  }\n}\n\nvar getInitialStyle = function getInitialStyle(propHeight) {\n  var height = 'auto';\n  var overflow = 'visible';\n\n  if (isNumber(propHeight)) {\n    height = propHeight < 0 ? 0 : propHeight;\n    overflow = 'hidden';\n  } else if (isPercentage(propHeight)) {\n    height = propHeight;\n    overflow = 'hidden';\n  }\n\n  return {\n    height: height,\n    overflow: overflow\n  };\n};\n\nvar Collapse =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Collapse, _React$Component);\n\n  function Collapse() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Collapse);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Collapse)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      height: _this.props.height,\n      overflow: typeof _this.props.height === 'number' && typeof _this.props.height === 'string' ? 'hidden' : '',\n      shouldUseTransitions: false\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"showContent\", function (height) {\n      if (height === 0) {\n        _this.contentElement.style.display = '';\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"hideContent\", function (newHeight) {\n      if (newHeight === 0) {\n        _this.contentElement.style.display = 'none';\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Collapse, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var height = this.state.height; // Hide content if height is 0 (to prevent tabbing into it)\n      // Check for contentElement is added cause this would fail in tests (react-test-renderer)\n      // Read more here: https://github.com/Stanko/react-animate-height/issues/17\n\n      if (this.contentElement && this.contentElement.style) {\n        this.hideContent(height);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          delay = _this$props.delay,\n          duration = _this$props.duration,\n          height = _this$props.height; // Check if 'height' prop has changed\n\n      if (this.contentElement && height !== prevProps.height) {\n        // Remove display: none from the content div\n        // if it was hidden to prevent tabbing into it\n        this.showContent(prevState.height); // Cache content height\n\n        this.contentElement.style.overflow = 'hidden';\n        var contentHeight = this.contentElement.offsetHeight;\n        this.contentElement.style.overflow = ''; // set total animation time\n\n        var totalDuration = duration + delay;\n        var newHeight = null;\n        var timeoutState = {\n          height: null,\n          // it will be always set to either 'auto' or specific number\n          overflow: 'hidden'\n        };\n        var isCurrentHeightAuto = prevState.height === 'auto';\n\n        if (isNumber(height)) {\n          // If new height is a number\n          newHeight = height < 0 ? 0 : height;\n          timeoutState.height = newHeight;\n        } else if (isPercentage(height)) {\n          newHeight = height;\n          timeoutState.height = newHeight;\n        } else {\n          // If not, animate to content height\n          // and then reset to auto\n          newHeight = contentHeight;\n          timeoutState.height = 'auto';\n          timeoutState.overflow = null;\n        }\n\n        if (isCurrentHeightAuto) {\n          // This is the height to be animated to\n          timeoutState.height = newHeight; // If previous height was 'auto'\n          // set starting height explicitly to be able to use transition\n\n          newHeight = contentHeight;\n        }\n\n        debugger; // Set starting height and animating classes\n        // We are safe to call set state as it will not trigger infinite loop\n        // because of the \"height !== prevProps.height\" check\n\n        this.setState({\n          height: newHeight,\n          overflow: 'hidden',\n          // When animating from 'auto' we first need to set fixed height\n          // that change should be animated\n          shouldUseTransitions: !isCurrentHeightAuto\n        }); // Clear timeouts\n\n        clearTimeout(this.timeoutID);\n\n        if (isCurrentHeightAuto) {\n          // When animating from 'auto' we use a short timeout to start animation\n          // after setting fixed height above\n          timeoutState.shouldUseTransitions = true;\n          startAnimationHelper(function () {\n            _this2.setState(timeoutState);\n          }); // Set static classes and remove transitions when animation ends\n\n          this.timeoutID = setTimeout(function () {\n            _this2.setState({\n              shouldUseTransitions: false\n            }); // ANIMATION ENDS\n            // Hide content if height is 0 (to prevent tabbing into it)\n\n\n            _this2.hideContent(timeoutState.height);\n          }, totalDuration);\n        } else {\n          // Set end height, classes and remove transitions when animation is complete\n          this.timeoutID = setTimeout(function () {\n            timeoutState.shouldUseTransitions = false;\n\n            _this2.setState(timeoutState); // ANIMATION ENDS\n            // If height is auto, don't hide the content\n            // (case when element is empty, therefore height is 0)\n\n\n            if (height !== 'auto') {\n              // Hide content if height is 0 (to prevent tabbing into it)\n              _this2.hideContent(newHeight); // TODO solve newHeight = 0\n\n            }\n          }, totalDuration);\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.timeoutID);\n      this.timeoutID = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          animateOpacity = _this$props2.animateOpacity,\n          children = _this$props2.children,\n          duration = _this$props2.duration,\n          easing = _this$props2.easing,\n          delay = _this$props2.delay;\n      var _this$state = this.state,\n          height = _this$state.height,\n          overflow = _this$state.overflow,\n          shouldUseTransitions = _this$state.shouldUseTransitions;\n      var componentStyle = {\n        height: height,\n        overflow: overflow\n      };\n\n      if (shouldUseTransitions) {\n        componentStyle.transition = \"height \".concat(duration, \"ms \").concat(easing, \" \").concat(delay, \"ms\"); // Add webkit vendor prefix still used by opera, blackberry...\n\n        componentStyle.WebkitTransition = componentStyle.transition;\n      }\n\n      var contentStyle = {};\n\n      if (animateOpacity) {\n        contentStyle.transition = \"opacity \".concat(duration, \"ms \").concat(easing, \" \").concat(delay, \"ms\"); // Add webkit vendor prefix still used by opera, blackberry...\n\n        contentStyle.WebkitTransition = contentStyle.transition;\n\n        if (height === 0) {\n          contentStyle.opacity = 0;\n        }\n      } // return (\n      //   <div\n      //     {...omit(this.props, ...PROPS_TO_OMIT)}\n      //     aria-hidden={height === 0}\n      //     className={componentClasses}\n      //     style={componentStyle}\n      //   >\n      //     <div\n      //       className={contentClassName}\n      //       style={contentStyle}\n      //       ref={el => (this.contentElement = el)}\n      //     >\n      //       {children}\n      //     </div>\n      //   </div>\n      // );\n\n\n      console.log(this.state.height);\n      return children({\n        outerNode: function outerNode() {\n          return {\n            style: componentStyle\n          };\n        },\n        innerNode: function innerNode() {\n          return {\n            style: _objectSpread({}, contentStyle, {\n              margin: 0\n            }),\n            ref: function ref(el) {\n              return _this3.contentElement = el;\n            }\n          };\n        }\n      });\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return Collapse;\n}(React.Component);\n\n_defineProperty(Collapse, \"propTypes\", {\n  animateOpacity: PropTypes.bool,\n  children: PropTypes.any.isRequired,\n  duration: PropTypes.number,\n  delay: PropTypes.number,\n  easing: PropTypes.string,\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onAnimationEnd: PropTypes.func,\n  onAnimationStart: PropTypes.func\n});\n\n_defineProperty(Collapse, \"defaultProps\", {\n  animateOpacity: false,\n  duration: 250,\n  delay: 0,\n  easing: 'ease'\n});\n\nvar _default = Collapse;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(PROPS_TO_OMIT, \"PROPS_TO_OMIT\", \"/Users/rfarrer/repos/collapse/AnimateHeight.js\");\n  reactHotLoader.register(startAnimationHelper, \"startAnimationHelper\", \"/Users/rfarrer/repos/collapse/AnimateHeight.js\");\n  reactHotLoader.register(isNumber, \"isNumber\", \"/Users/rfarrer/repos/collapse/AnimateHeight.js\");\n  reactHotLoader.register(isPercentage, \"isPercentage\", \"/Users/rfarrer/repos/collapse/AnimateHeight.js\");\n  reactHotLoader.register(runCallback, \"runCallback\", \"/Users/rfarrer/repos/collapse/AnimateHeight.js\");\n  reactHotLoader.register(getInitialStyle, \"getInitialStyle\", \"/Users/rfarrer/repos/collapse/AnimateHeight.js\");\n  reactHotLoader.register(Collapse, \"Collapse\", \"/Users/rfarrer/repos/collapse/AnimateHeight.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/rfarrer/repos/collapse/AnimateHeight.js\");\n  leaveModule(module);\n})();\n\n;\nCollapse.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"showContent\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"height\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"hideContent\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"newHeight\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }],\n  \"displayName\": \"Collapse\",\n  \"props\": {\n    \"animateOpacity\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"duration\": {\n      \"defaultValue\": {\n        \"value\": \"250\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"delay\": {\n      \"defaultValue\": {\n        \"value\": \"0\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"easing\": {\n      \"defaultValue\": {\n        \"value\": \"'ease'\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"children\": {\n      \"type\": {\n        \"name\": \"any\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"height\": {\n      \"type\": {\n        \"name\": \"union\",\n        \"value\": [{\n          \"name\": \"string\"\n        }, {\n          \"name\": \"number\"\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onAnimationEnd\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onAnimationStart\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};",{"version":3,"sources":["/Users/rfarrer/repos/collapse/AnimateHeight.js"],"names":["React","PropTypes","PROPS_TO_OMIT","startAnimationHelper","callback","requestAnimationFrame","isNumber","n","isNaN","parseFloat","isFinite","isPercentage","height","search","length","substr","runCallback","getInitialStyle","propHeight","overflow","Collapse","props","shouldUseTransitions","contentElement","style","display","newHeight","state","hideContent","prevProps","prevState","delay","duration","showContent","contentHeight","offsetHeight","totalDuration","timeoutState","isCurrentHeightAuto","setState","clearTimeout","timeoutID","setTimeout","animateOpacity","children","easing","componentStyle","transition","WebkitTransition","contentStyle","opacity","console","log","outerNode","innerNode","margin","ref","el","Component","bool","any","isRequired","number","string","oneOfType","onAnimationEnd","func","onAnimationStart"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst PROPS_TO_OMIT = [\n  'animateOpacity',\n  'animationStateClasses',\n  'applyInlineTransitions',\n  'children',\n  'contentClassName',\n  'delay',\n  'duration',\n  'easing',\n  'height',\n  'onAnimationEnd',\n  'onAnimationStart'\n];\n\n// Start animation helper using nested requestAnimationFrames\nfunction startAnimationHelper(callback) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(() => {\n      callback();\n    });\n  });\n}\n\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\nfunction isPercentage(height) {\n  // Percentage height\n  return (\n    typeof height === 'string' &&\n    height.search('%') === height.length - 1 &&\n    isNumber(height.substr(0, height.length - 1))\n  );\n}\n\nfunction runCallback(callback) {\n  if (callback && typeof callback === 'function') {\n    callback();\n  }\n}\n\nconst getInitialStyle = propHeight => {\n  let height = 'auto';\n  let overflow = 'visible';\n\n  if (isNumber(propHeight)) {\n    height = propHeight < 0 ? 0 : propHeight;\n    overflow = 'hidden';\n  } else if (isPercentage(propHeight)) {\n    height = propHeight;\n    overflow = 'hidden';\n  }\n  return {height, overflow};\n};\n\nclass Collapse extends React.Component {\n  static propTypes = {\n    animateOpacity: PropTypes.bool,\n    children: PropTypes.any.isRequired,\n    duration: PropTypes.number,\n    delay: PropTypes.number,\n    easing: PropTypes.string,\n    height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    onAnimationEnd: PropTypes.func,\n    onAnimationStart: PropTypes.func\n  };\n\n  static defaultProps = {\n    animateOpacity: false,\n    duration: 250,\n    delay: 0,\n    easing: 'ease'\n  };\n\n  state = {\n    height: this.props.height,\n    overflow:\n      typeof this.props.height === 'number' &&\n      typeof this.props.height === 'string'\n        ? 'hidden'\n        : '',\n    shouldUseTransitions: false\n  };\n\n  componentDidMount() {\n    const {height} = this.state;\n\n    // Hide content if height is 0 (to prevent tabbing into it)\n    // Check for contentElement is added cause this would fail in tests (react-test-renderer)\n    // Read more here: https://github.com/Stanko/react-animate-height/issues/17\n    if (this.contentElement && this.contentElement.style) {\n      this.hideContent(height);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {delay, duration, height} = this.props;\n\n    // Check if 'height' prop has changed\n    if (this.contentElement && height !== prevProps.height) {\n      // Remove display: none from the content div\n      // if it was hidden to prevent tabbing into it\n      this.showContent(prevState.height);\n\n      // Cache content height\n      this.contentElement.style.overflow = 'hidden';\n      const contentHeight = this.contentElement.offsetHeight;\n      this.contentElement.style.overflow = '';\n\n      // set total animation time\n      const totalDuration = duration + delay;\n\n      let newHeight = null;\n      const timeoutState = {\n        height: null, // it will be always set to either 'auto' or specific number\n        overflow: 'hidden'\n      };\n      const isCurrentHeightAuto = prevState.height === 'auto';\n\n      if (isNumber(height)) {\n        // If new height is a number\n        newHeight = height < 0 ? 0 : height;\n        timeoutState.height = newHeight;\n      } else if (isPercentage(height)) {\n        newHeight = height;\n        timeoutState.height = newHeight;\n      } else {\n        // If not, animate to content height\n        // and then reset to auto\n        newHeight = contentHeight;\n        timeoutState.height = 'auto';\n        timeoutState.overflow = null;\n      }\n\n      if (isCurrentHeightAuto) {\n        // This is the height to be animated to\n        timeoutState.height = newHeight;\n\n        // If previous height was 'auto'\n        // set starting height explicitly to be able to use transition\n        newHeight = contentHeight;\n      }\n\n      debugger;\n\n      // Set starting height and animating classes\n      // We are safe to call set state as it will not trigger infinite loop\n      // because of the \"height !== prevProps.height\" check\n      this.setState({\n        height: newHeight,\n        overflow: 'hidden',\n        // When animating from 'auto' we first need to set fixed height\n        // that change should be animated\n        shouldUseTransitions: !isCurrentHeightAuto\n      });\n\n      // Clear timeouts\n      clearTimeout(this.timeoutID);\n\n      if (isCurrentHeightAuto) {\n        // When animating from 'auto' we use a short timeout to start animation\n        // after setting fixed height above\n        timeoutState.shouldUseTransitions = true;\n\n        startAnimationHelper(() => {\n          this.setState(timeoutState);\n        });\n\n        // Set static classes and remove transitions when animation ends\n        this.timeoutID = setTimeout(() => {\n          this.setState({\n            shouldUseTransitions: false\n          });\n\n          // ANIMATION ENDS\n          // Hide content if height is 0 (to prevent tabbing into it)\n          this.hideContent(timeoutState.height);\n        }, totalDuration);\n      } else {\n        // Set end height, classes and remove transitions when animation is complete\n        this.timeoutID = setTimeout(() => {\n          timeoutState.shouldUseTransitions = false;\n\n          this.setState(timeoutState);\n\n          // ANIMATION ENDS\n          // If height is auto, don't hide the content\n          // (case when element is empty, therefore height is 0)\n          if (height !== 'auto') {\n            // Hide content if height is 0 (to prevent tabbing into it)\n            this.hideContent(newHeight); // TODO solve newHeight = 0\n          }\n        }, totalDuration);\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timeoutID);\n    this.timeoutID = null;\n  }\n\n  showContent = height => {\n    if (height === 0) {\n      this.contentElement.style.display = '';\n    }\n  };\n\n  hideContent = newHeight => {\n    if (newHeight === 0) {\n      this.contentElement.style.display = 'none';\n    }\n  };\n\n  render() {\n    const {animateOpacity, children, duration, easing, delay} = this.props;\n    const {height, overflow, shouldUseTransitions} = this.state;\n\n    const componentStyle = {\n      height,\n      overflow\n    };\n\n    if (shouldUseTransitions) {\n      componentStyle.transition = `height ${duration}ms ${easing} ${delay}ms`;\n\n      // Add webkit vendor prefix still used by opera, blackberry...\n      componentStyle.WebkitTransition = componentStyle.transition;\n    }\n\n    const contentStyle = {};\n\n    if (animateOpacity) {\n      contentStyle.transition = `opacity ${duration}ms ${easing} ${delay}ms`;\n      // Add webkit vendor prefix still used by opera, blackberry...\n      contentStyle.WebkitTransition = contentStyle.transition;\n\n      if (height === 0) {\n        contentStyle.opacity = 0;\n      }\n    }\n\n    // return (\n    //   <div\n    //     {...omit(this.props, ...PROPS_TO_OMIT)}\n    //     aria-hidden={height === 0}\n    //     className={componentClasses}\n    //     style={componentStyle}\n    //   >\n    //     <div\n    //       className={contentClassName}\n    //       style={contentStyle}\n    //       ref={el => (this.contentElement = el)}\n    //     >\n    //       {children}\n    //     </div>\n    //   </div>\n    // );\n    console.log(this.state.height);\n    return children({\n      outerNode: () => ({\n        style: componentStyle\n      }),\n      innerNode: () => ({\n        style: {...contentStyle, margin: 0},\n        ref: el => (this.contentElement = el)\n      })\n    });\n  }\n}\n\nexport default Collapse;\n"]}]}